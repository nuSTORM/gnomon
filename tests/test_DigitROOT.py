from gnomon.JsonToROOT import JsonToROOTConverter
from gnomon.processors.CreateROOTFile import CreateROOTDigitizedHits
from unittest import TestCase
import validictory
import json
import ROOT

testjson = """[{
   "_id": "69a8e8a5a1206e59ef87766f3718a60e",
   "_rev": "1-2e6b72ed0465fdb8a17edfabc5350dc9",
   "run": 3726369487770139000,
  "digitized_hits": {
       "xview": {
           "x": [
               845,
               2335,
               2135,
               2375,
               1645,
               2255,
               2375,
               2255,
               1705,
               1595,
               2145,
               2155,
               2345,
               2285,
               2365,
               2405,
               985,
               2235,
               815,
               1855,
               1455,
               2215,
               2245,
               1675,
               2195,
               2325,
               2225,
               2175,
               1445,
               2375,
               2385,
               2435,
               1655,
               2375,
               1735,
               2175,
               2145,
               2345,
               2245,
               2205,
               2185,
               2275,
               2355,
               2285,
               1755,
               1435,
               2325,
               2275,
               2355,
               2255,
               1685,
               2335,
               925,
               2435,
               1665,
               2415,
               2275,
               2465,
               1165,
               2415,
               1855,
               2365,
               2125,
               2315,
               2235,
               2095,
               2255,
               2415,
               2245,
               2385,
               2395,
               2205,
               1665,
               2405,
               2295,
               2235,
               2335,
               2205,
               2345,
               2285,
               2345,
               2415,
               2485,
               2425,
               2395,
               1735,
               1345,
               2215
           ],
           "z": [
               -3180,
               -4100,
               -4460,
               -4780,
               -3420,
               -4780,
               -4660,
               -4420,
               -3500,
               -3580,
               -4220,
               -4740,
               -4260,
               -4460,
               -4380,
               -4580,
               -3340,
               -4380,
               -3260,
               -3660,
               -3420,
               -4580,
               -4380,
               -3620,
               -4860,
               -4740,
               -4180,
               -4860,
               -3420,
               -4900,
               -4740,
               -4580,
               -3660,
               -4740,
               -3500,
               -4140,
               -4100,
               -4740,
               -4660,
               -4860,
               -4140,
               -4780,
               -4700,
               -4660,
               -3540,
               -3420,
               -4860,
               -4060,
               -4740,
               -4660,
               -3500,
               -4700,
               -3300,
               -4660,
               -3660,
               -4660,
               -4580,
               -4620,
               -3340,
               -4460,
               -4860,
               -4740,
               -4540,
               -4780,
               -4340,
               -4140,
               -4260,
               -4780,
               -4340,
               -4780,
               -4780,
               -4460,
               -3580,
               -4780,
               -4700,
               -4300,
               -4740,
               -4260,
               -4780,
               -4500,
               -4300,
               -4540,
               -4500,
               -4780,
               -4460,
               -3540,
               -3460,
               -4260
           ],
           "adc": [
               8,
               324,
               7,
               93,
               6,
               82,
               34,
               28,
               160,
               52,
               7,
               17,
               10,
               5,
               30,
               4,
               11,
               559,
               14,
               43,
               8,
               13,
               274,
               18,
               67,
               101,
               58,
               10,
               198,
               4,
               1152,
               57,
               3,
               2117,
               120,
               7,
               3,
               31,
               140,
               178,
               71,
               35,
               147,
               6,
               6,
               43,
               13,
               4,
               29,
               22,
               46,
               81,
               46,
               31,
               14,
               41,
               3,
               10,
               8,
               10,
               43,
               1449,
               21,
               5,
               257,
               21,
               18,
               162,
               1221,
               68,
               54,
               74,
               25,
               174,
               10,
               340,
               8,
               7,
               15,
               17,
               10,
               54,
               11,
               26,
               13,
               40,
               1298,
               4
           ]
       },
       "yview": {
           "y": [
               -2245,
               -1835,
               -1255,
               -1705,
               -2025,
               -2005,
               -2025,
               -685,
               -2195,
               -565,
               -2295,
               -595,
               -1995,
               -655,
               -2015,
               -635,
               -1975,
               -595,
               -1975,
               -1835,
               -2245,
               -2225,
               -2005,
               -1985,
               -565,
               -2025,
               -1825,
               -2275,
               -1725,
               -2215,
               -2235,
               -1835,
               -575,
               -2225,
               -655,
               -1895,
               -2225,
               -2205,
               -2265,
               -525,
               -2235,
               -1945,
               -2085,
               -2005,
               -2045,
               -705,
               -2045,
               -2255,
               -2045,
               -655,
               -2075,
               -2055,
               -925,
               -1995,
               -2205,
               -835,
               -1715,
               -675,
               -1745,
               -625,
               -665,
               -2195,
               -2255,
               -1825,
               -1945,
               -2045,
               -2195,
               -2015,
               -655,
               -1935,
               -535,
               -525,
               -2015,
               -2035,
               -2205
           ],
           "z": [
               -4890,
               -4490,
               -3970,
               -4570,
               -4450,
               -4530,
               -4690,
               -3530,
               -4770,
               -3330,
               -4850,
               -3410,
               -4530,
               -3290,
               -4530,
               -3610,
               -4170,
               -3530,
               -4530,
               -4370,
               -4730,
               -4890,
               -4170,
               -4290,
               -3490,
               -4370,
               -4410,
               -4690,
               -4450,
               -4890,
               -4690,
               -4090,
               -3610,
               -4690,
               -3610,
               -4210,
               -4770,
               -4770,
               -4810,
               -3450,
               -4770,
               -4250,
               -4730,
               -4330,
               -4370,
               -3570,
               -4810,
               -4770,
               -4730,
               -3370,
               -4330,
               -4370,
               -3770,
               -4290,
               -4890,
               -3410,
               -4570,
               -3210,
               -4450,
               -3490,
               -3410,
               -4690,
               -4810,
               -4490,
               -3890,
               -4410,
               -4530,
               -4450,
               -3330,
               -4610,
               -3450,
               -3490,
               -4370,
               -4410,
               -4850
           ],
           "adc": [
               70,
               5,
               35,
               12,
               20,
               16,
               3,
               14,
               171,
               3,
               24,
               5,
               11,
               5,
               3,
               16,
               5,
               4,
               18,
               6,
               19,
               7,
               13,
               356,
               150,
               198,
               7,
               23,
               148,
               3,
               4,
               37,
               5,
               5,
               6,
               11,
               26,
               160,
               95,
               810,
               17,
               3,
               20,
               249,
               489,
               88,
               4,
               10,
               96,
               3,
               1378,
               206,
               80,
               112,
               8,
               110,
               151,
               4,
               14,
               46,
               4,
               97,
               138,
               21,
               94,
               43,
               5,
               17,
               25,
               535,
               1395,
               8,
               5,
               24,
               13
           ]
       }
   },
   "mc": {
       "field": -1,
       "tracking": {
           "track_length": 133.6947872606123,
           "pdg_code": 13
       },
       "event_type": {
           "nuel": 0,
           "em": 0,
           "target_material": 1000260560,
           "imd": 0,
           "cc": 1,
           "res": 0,
           "vertex": {
               "y": -953.6694140447439,
               "x": -1903.6694293141763,
               "z": 5801.823464347944
           },
           "nc": 0,
           "incoming_neutrino": 14,
           "qel": 0,
           "dfr": 0,
           "neutrino_energy": 2.3047765656232606,
           "coh": 0,
           "dis": 1
       },
       "generator": [
           {
               "position": {
                   "y": -1086.3272293372995,
                   "x": -1466.6330143890966,
                   "z": -5550.043206683819
               },
               "pid": 13,
               "momentum": {
                   "y": -95.80357492090117,
                   "x": 82.8340017132139,
                   "z": 24.290838716089095
               }
           },
           {
               "position": {
                   "y": -1086.3272293372995,
                   "x": -1466.6330143890966,
                   "z": -5550.043206683819
               },
               "pid": 2212,
               "momentum": {
                   "y": -190.65026327021405,
                   "x": 87.68972034288713,
                   "z": 449.2308158036867
               }
           },
           {
               "position": {
                   "y": -1086.3272293372995,
                   "x": -1466.6330143890966,
                   "z": -5550.043206683819
               },
               "pid": 2212,
               "momentum": {
                   "y": -497.98808840399266,
                   "x": 133.98182411510768,
                   "z": 549.7490760908054
               }
           },
           {
               "position": {
                   "y": -1086.3272293372995,
                   "x": -1466.6330143890966,
                   "z": -5550.043206683819
               },
               "pid": 2212,
               "momentum": {
                   "y": -37.86555081597968,
                   "x": -352.85513225812304,
                   "z": 282.5074283272626
               }
           },
           {
               "position": {
                   "y": -1086.3272293372995,
                   "x": -1466.6330143890966,
                   "z": -5550.043206683819
               },
               "pid": 2212,
               "momentum": {
                   "y": 251.24023157854546,
                   "x": 109.56413889812927,
                   "z": -194.5482440702198
               }
           },
           {
               "position": {
                   "y": -1086.3272293372995,
                   "x": -1466.6330143890966,
                   "z": -5550.043206683819
               },
               "pid": 2212,
               "momentum": {
                   "y": -40.30106228805008,
                   "x": 119.63670043721837,
                   "z": 62.81065573339657
               }
           },
           {
               "position": {
                   "y": -1086.3272293372995,
                   "x": -1466.6330143890966,
                   "z": -5550.043206683819
               },
               "pid": 2112,
               "momentum": {
                   "y": -97.84630840829142,
                   "x": 117.07403465845958,
                   "z": -52.64199833734124
               }
           },
           {
               "position": {
                   "y": -1086.3272293372995,
                   "x": -1466.6330143890966,
                   "z": -5550.043206683819
               },
               "pid": 2212,
               "momentum": {
                   "y": 34.86246444174789,
                   "x": -23.1569127167112,
                   "z": 27.821159148956472
               }
           },
           {
               "position": {
                   "y": -1086.3272293372995,
                   "x": -1466.6330143890966,
                   "z": -5550.043206683819
               },
               "pid": 2212,
               "momentum": {
                   "y": 7.544072201858495,
                   "x": -8.651772845526425,
                   "z": 10.418168965774804
               }
           },
           {
               "position": {
                   "y": -1086.3272293372995,
                   "x": -1466.6330143890966,
                   "z": -5550.043206683819
               },
               "pid": 2212,
               "momentum": {
                   "y": -41.870264063735235,
                   "x": 50.17402471980474,
                   "z": 18.303828464471348
               }
           },
           {
               "position": {
                   "y": -1086.3272293372995,
                   "x": -1466.6330143890966,
                   "z": -5550.043206683819
               },
               "pid": 2112,
               "momentum": {
                   "y": 74.6910374863536,
                   "x": -24.945597421885278,
                   "z": 41.58468507389494
               }
           },
           {
               "position": {
                   "y": -1086.3272293372995,
                   "x": -1466.6330143890966,
                   "z": -5550.043206683819
               },
               "pid": 2212,
               "momentum": {
                   "y": -49.18614207434166,
                   "x": -24.488901338486258,
                   "z": 3.1923367979526835
               }
           },
           {
               "position": {
                   "y": -1086.3272293372995,
                   "x": -1466.6330143890966,
                   "z": -5550.043206683819
               },
               "pid": 2212,
               "momentum": {
                   "y": -5.051714948590927,
                   "x": 6.9329521120769435,
                   "z": 39.25578823100844
               }
           },
           {
               "position": {
                   "y": -1086.3272293372995,
                   "x": -1466.6330143890966,
                   "z": -5550.043206683819
               },
               "pid": 2212,
               "momentum": {
                   "y": 76.29151893227076,
                   "x": 18.710741066963593,
                   "z": 23.390102444344222
               }
           },
           {
               "position": {
                   "y": -1086.3272293372995,
                   "x": -1466.6330143890966,
                   "z": -5550.043206683819
               },
               "pid": 2112,
               "momentum": {
                   "y": 53.17364815688651,
                   "x": -7.735050104869919,
                   "z": 32.28961417979155
               }
           },
           {
               "position": {
                   "y": -1086.3272293372995,
                   "x": -1466.6330143890966,
                   "z": -5550.043206683819
               },
               "pid": 2112,
               "momentum": {
                   "y": 49.029657051302785,
                   "x": -4.819678054210506,
                   "z": 47.58826666785203
               }
           },
           {
               "position": {
                   "y": -1086.3272293372995,
                   "x": -1466.6330143890966,
                   "z": -5550.043206683819
               },
               "pid": 2212,
               "momentum": {
                   "y": 54.288092031386384,
                   "x": -8.78548922843604,
                   "z": -18.67268101008088
               }
           },
           {
               "position": {
                   "y": -1086.3272293372995,
                   "x": -1466.6330143890966,
                   "z": -5550.043206683819
               },
               "pid": 2212,
               "momentum": {
                   "y": -51.04523210996504,
                   "x": 20.252058711584304,
                   "z": 10.975532602204563
               }
           },
           {
               "position": {
                   "y": -1086.3272293372995,
                   "x": -1466.6330143890966,
                   "z": -5550.043206683819
               },
               "pid": 2112,
               "momentum": {
                   "y": 22.95479309350259,
                   "x": -13.227149693253011,
                   "z": 58.236723393123874
               }
           },
           {
               "position": {
                   "y": -1086.3272293372995,
                   "x": -1466.6330143890966,
                   "z": -5550.043206683819
               },
               "pid": 2212,
               "momentum": {
                   "y": -12.185819478078697,
                   "x": 7.476107823760545,
                   "z": 13.679034769966187
               }
           },
           {
               "position": {
                   "y": -1086.3272293372995,
                   "x": -1466.6330143890966,
                   "z": -5550.043206683819
               },
               "pid": 2212,
               "momentum": {
                   "y": 6.454912754692549,
                   "x": 66.84344855445421,
                   "z": 10.712534945619227
               }
           },
           {
               "position": {
                   "y": -1086.3272293372995,
                   "x": -1466.6330143890966,
                   "z": -5550.043206683819
               },
               "pid": 2212,
               "momentum": {
                   "y": 46.184464874998106,
                   "x": -61.12395410981868,
                   "z": 31.044768696601313
               }
           },
           {
               "position": {
                   "y": -1086.3272293372995,
                   "x": -1466.6330143890966,
                   "z": -5550.043206683819
               },
               "pid": 2112,
               "momentum": {
                   "y": 34.773751914613065,
                   "x": -19.775860532712258,
                   "z": 42.69150324090806
               }
           },
           {
               "position": {
                   "y": -1086.3272293372995,
                   "x": -1466.6330143890966,
                   "z": -5550.043206683819
               },
               "pid": -211,
               "momentum": {
                   "y": 180.3396592317874,
                   "x": -143.0775560897318,
                   "z": 890.8980829145432
               }
           },
           {
               "position": {
                   "y": -1086.3272293372995,
                   "x": -1466.6330143890966,
                   "z": -5550.043206683819
               },
               "pid": 2212,
               "momentum": {
                   "y": -0.958234140164882,
                   "x": 126.79705883797298,
                   "z": -18.565577995430015
               }
           },
           {
               "position": {
                   "y": -1086.3272293372995,
                   "x": -1466.6330143890966,
                   "z": -5550.043206683819
               },
               "pid": 111,
               "momentum": {
                   "y": -69.07815017123471,
                   "x": -76.19801953283212,
                   "z": 37.77677909706488
               }
           }
       ]
   },
   "classification": {
       "n_hits": 193,
       "lengths": {
           "y": [
               357.44518332580265,
               225.86208349975738,
               184.72135954999578
           ],
           "x": [
               554.3506023051989,
               344.3681412460242,
               172.4621125123532
           ]
       },
       "n_planes": 45,
       "fit_poly": {
           "y": [
               -3561.482000159819,
               1.268453436278164,
               -0.0001488096220314444
           ],
           "x": [
               26819.64134031147,
               -10.499276280143011,
               0.0009709064333943371
           ],
           "gof": {
               "y": 110.79365079364761,
               "x": 720.1198801226628,
               "combined": 154.2505840613575
           },
           "u": [
               27055.079295030842,
               -10.574886701595032,
               0.000982046469693129
           ],
           "combined": [
               -72410.22345718581,
               27.328573912512905,
               -0.0025122158489163065
           ]
       },
       "Qsum": 20763,
       "is_interesting": false,
       "fraction_of_hits_in_main_track": 0.11398963730569948,
       "minos": {
           "mean_low": 7.618181818181818,
           "mean_high": 211.07142857142858,
           "transverse_profile": 0.10481878088962109,
           "signal_fluctuation": 0.03609290878326411,
           "mean_strip_pulse_height": 110.26126126126127
       }
   },
   "tracks": {
       "y": {
           "225.86208349975738": [
               [
                   -5410,
                   -1235,
                   315
               ],
               [
                   -5450,
                   -1185,
                   409
               ],
               [
                   -5490,
                   -1145,
                   357
               ],
               [
                   -5530,
                   -1135,
                   44
               ],
               [
                   -5570,
                   -1085,
                   33
               ]
           ],
           "LEFTOVERS": [
               [
                   -5530,
                   -1165,
                   102
               ],
               [
                   -5170,
                   -1195,
                   5
               ],
               [
                   -5490,
                   -1055,
                   26
               ],
               [
                   -5330,
                   -1205,
                   14
               ],
               [
                   -5330,
                   -945,
                   113
               ],
               [
                   -5570,
                   -1145,
                   13
               ],
               [
                   -5570,
                   -1135,
                   3
               ],
               [
                   -4770,
                   -1065,
                   41
               ],
               [
                   -5530,
                   -855,
                   9
               ],
               [
                   -5170,
                   -1125,
                   168
               ],
               [
                   -5330,
                   -1005,
                   33
               ],
               [
                   -5770,
                   -775,
                   36
               ],
               [
                   -5090,
                   -1185,
                   9
               ],
               [
                   -5610,
                   -865,
                   6
               ],
               [
                   -5650,
                   -1335,
                   9
               ],
               [
                   -5330,
                   -1125,
                   7
               ],
               [
                   -5530,
                   -1045,
                   16
               ],
               [
                   -5170,
                   -1175,
                   4
               ],
               [
                   -4810,
                   -1135,
                   14
               ],
               [
                   -4970,
                   -1185,
                   5
               ],
               [
                   -5650,
                   -875,
                   187
               ],
               [
                   -4810,
                   -1145,
                   3
               ],
               [
                   -5490,
                   -925,
                   3
               ],
               [
                   -5250,
                   -1105,
                   7
               ],
               [
                   -5570,
                   -935,
                   221
               ],
               [
                   -4850,
                   -855,
                   12
               ],
               [
                   -5370,
                   -1075,
                   502
               ],
               [
                   -5450,
                   -705,
                   7
               ],
               [
                   -5570,
                   -955,
                   99
               ],
               [
                   -5530,
                   -1075,
                   87
               ],
               [
                   -5090,
                   -1115,
                   14
               ],
               [
                   -5370,
                   -1065,
                   71
               ],
               [
                   -4970,
                   -1195,
                   7
               ],
               [
                   -5330,
                   -1075,
                   158
               ],
               [
                   -5730,
                   -855,
                   101
               ],
               [
                   -5490,
                   -1105,
                   481
               ],
               [
                   -4810,
                   -1075,
                   52
               ],
               [
                   -5530,
                   -1155,
                   422
               ],
               [
                   -5610,
                   -905,
                   11
               ],
               [
                   -5090,
                   -1135,
                   218
               ],
               [
                   -5570,
                   -915,
                   96
               ],
               [
                   -5330,
                   -1085,
                   168
               ],
               [
                   -5650,
                   -855,
                   3
               ],
               [
                   -5490,
                   -1045,
                   269
               ],
               [
                   -5170,
                   -1135,
                   88
               ],
               [
                   -5290,
                   -1375,
                   8
               ],
               [
                   -5530,
                   -1065,
                   114
               ],
               [
                   -5490,
                   -735,
                   52
               ],
               [
                   -5170,
                   -1115,
                   98
               ],
               [
                   -5210,
                   -1185,
                   9
               ],
               [
                   -4770,
                   -1055,
                   34
               ],
               [
                   -5290,
                   -855,
                   5
               ],
               [
                   -5530,
                   -1015,
                   28
               ],
               [
                   -4770,
                   -1145,
                   11
               ],
               [
                   -5330,
                   -1055,
                   4
               ],
               [
                   -5490,
                   -605,
                   66
               ],
               [
                   -5490,
                   -725,
                   47
               ],
               [
                   -5610,
                   -1005,
                   7
               ],
               [
                   -5450,
                   -1145,
                   12
               ],
               [
                   -5530,
                   -1035,
                   57
               ],
               [
                   -5570,
                   -925,
                   67
               ],
               [
                   -5130,
                   -1145,
                   7
               ],
               [
                   -5570,
                   -1065,
                   3
               ],
               [
                   -5450,
                   -935,
                   7
               ],
               [
                   -5850,
                   -785,
                   16
               ],
               [
                   -5490,
                   -1115,
                   2414
               ],
               [
                   -5210,
                   -1205,
                   6
               ]
           ],
           "357.44518332580265": [
               [
                   -5250,
                   -995,
                   5
               ],
               [
                   -5290,
                   -1025,
                   27
               ],
               [
                   -5330,
                   -1035,
                   9
               ],
               [
                   -5370,
                   -1045,
                   55
               ],
               [
                   -5410,
                   -1035,
                   3
               ],
               [
                   -5450,
                   -1075,
                   36
               ],
               [
                   -5490,
                   -1085,
                   3
               ],
               [
                   -5530,
                   -1095,
                   650
               ],
               [
                   -5570,
                   -1115,
                   67
               ]
           ],
           "184.72135954999578": [
               [
                   -5450,
                   -1025,
                   65
               ],
               [
                   -5490,
                   -1025,
                   138
               ],
               [
                   -5530,
                   -995,
                   69
               ],
               [
                   -5570,
                   -975,
                   32
               ],
               [
                   -5610,
                   -945,
                   3
               ]
           ]
       },
       "x": {
           "344.3681412460242": [
               [
                   -5420,
                   -1435,
                   894
               ],
               [
                   -5460,
                   -1465,
                   3
               ],
               [
                   -5500,
                   -1495,
                   113
               ],
               [
                   -5540,
                   -1535,
                   55
               ],
               [
                   -5580,
                   -1575,
                   268
               ],
               [
                   -5620,
                   -1575,
                   50
               ],
               [
                   -5660,
                   -1565,
                   17
               ],
               [
                   -5700,
                   -1595,
                   4
               ]
           ],
           "LEFTOVERS": [
               [
                   -5460,
                   -1445,
                   625
               ],
               [
                   -5140,
                   -1645,
                   18
               ],
               [
                   -4980,
                   -1695,
                   8
               ],
               [
                   -5580,
                   -1625,
                   96
               ],
               [
                   -4820,
                   -1615,
                   4
               ],
               [
                   -5340,
                   -1025,
                   14
               ],
               [
                   -5220,
                   -1525,
                   111
               ],
               [
                   -5300,
                   -1675,
                   6
               ],
               [
                   -5740,
                   -1295,
                   17
               ],
               [
                   -5540,
                   -1615,
                   36
               ],
               [
                   -5660,
                   -1695,
                   13
               ],
               [
                   -5380,
                   -1555,
                   181
               ],
               [
                   -5340,
                   -1645,
                   46
               ],
               [
                   -5580,
                   -1795,
                   3
               ],
               [
                   -5380,
                   -1055,
                   69
               ],
               [
                   -5540,
                   -1445,
                   278
               ],
               [
                   -5100,
                   -1575,
                   4
               ],
               [
                   -5380,
                   -1025,
                   15
               ],
               [
                   -5620,
                   -1615,
                   6
               ],
               [
                   -5620,
                   -1605,
                   4
               ],
               [
                   -5100,
                   -2085,
                   7
               ],
               [
                   -5580,
                   -1595,
                   113
               ],
               [
                   -5380,
                   -1515,
                   10
               ],
               [
                   -5580,
                   -1615,
                   150
               ],
               [
                   -5620,
                   -1595,
                   11
               ],
               [
                   -5740,
                   -1305,
                   232
               ],
               [
                   -5380,
                   -1045,
                   169
               ],
               [
                   -5620,
                   -1555,
                   13
               ],
               [
                   -5660,
                   -1335,
                   6
               ],
               [
                   -5500,
                   -1515,
                   69
               ],
               [
                   -5540,
                   -1085,
                   8
               ],
               [
                   -5580,
                   -1295,
                   9
               ],
               [
                   -5540,
                   -1585,
                   27
               ],
               [
                   -5580,
                   -1605,
                   146
               ],
               [
                   -5180,
                   -1845,
                   155
               ],
               [
                   -5540,
                   -1305,
                   57
               ],
               [
                   -4860,
                   -1745,
                   1656
               ],
               [
                   -5820,
                   -1405,
                   8
               ],
               [
                   -5140,
                   -1625,
                   62
               ],
               [
                   -5180,
                   -1425,
                   193
               ],
               [
                   -5100,
                   -1635,
                   74
               ],
               [
                   -5420,
                   -1605,
                   16
               ],
               [
                   -5500,
                   -1475,
                   148
               ],
               [
                   -5180,
                   -1435,
                   13
               ],
               [
                   -5660,
                   -1325,
                   63
               ],
               [
                   -5140,
                   -1685,
                   113
               ],
               [
                   -5100,
                   -1645,
                   3
               ],
               [
                   -5540,
                   -1575,
                   14
               ],
               [
                   -4860,
                   -1735,
                   37
               ],
               [
                   -4860,
                   -1775,
                   16
               ],
               [
                   -5540,
                   -1105,
                   5
               ],
               [
                   -5540,
                   -1825,
                   23
               ],
               [
                   -5060,
                   -1655,
                   23
               ],
               [
                   -5660,
                   -1545,
                   227
               ],
               [
                   -5420,
                   -1625,
                   4
               ],
               [
                   -4820,
                   -1595,
                   23
               ],
               [
                   -5540,
                   -1425,
                   391
               ],
               [
                   -5180,
                   -1645,
                   26
               ],
               [
                   -5340,
                   -1635,
                   7
               ],
               [
                   -5540,
                   -1775,
                   3
               ],
               [
                   -4860,
                   -1605,
                   14
               ],
               [
                   -5500,
                   -1385,
                   7
               ],
               [
                   -5380,
                   -1015,
                   6
               ],
               [
                   -5300,
                   -995,
                   22
               ],
               [
                   -5220,
                   -1885,
                   3
               ],
               [
                   -5460,
                   -1375,
                   9
               ],
               [
                   -5540,
                   -1485,
                   483
               ],
               [
                   -5140,
                   -1635,
                   11
               ],
               [
                   -5340,
                   -1505,
                   77
               ],
               [
                   -5580,
                   -1645,
                   9
               ],
               [
                   -5140,
                   -2095,
                   8
               ],
               [
                   -5540,
                   -1435,
                   405
               ],
               [
                   -4740,
                   -1845,
                   13
               ],
               [
                   -5180,
                   -925,
                   8
               ],
               [
                   -5620,
                   -1725,
                   8
               ]
           ],
           "554.3506023051989": [
               [
                   -5220,
                   -1495,
                   316
               ],
               [
                   -5260,
                   -1545,
                   11
               ],
               [
                   -5300,
                   -1575,
                   5
               ],
               [
                   -5340,
                   -1585,
                   136
               ],
               [
                   -5380,
                   -1575,
                   30
               ],
               [
                   -5420,
                   -1585,
                   4
               ],
               [
                   -5460,
                   -1575,
                   4
               ],
               [
                   -5500,
                   -1545,
                   12
               ],
               [
                   -5540,
                   -1515,
                   61
               ],
               [
                   -5580,
                   -1495,
                   14
               ],
               [
                   -5620,
                   -1505,
                   6
               ],
               [
                   -5660,
                   -1525,
                   15
               ],
               [
                   -5700,
                   -1505,
                   5
               ]
           ],
           "172.4621125123532": [
               [
                   -5460,
                   -1425,
                   6
               ],
               [
                   -5500,
                   -1455,
                   484
               ],
               [
                   -5540,
                   -1465,
                   1489
               ],
               [
                   -5580,
                   -1475,
                   88
               ],
               [
                   -5620,
                   -1475,
                   4
               ]
           ]
       },
       "combined": [
           [
               -5235,
               1795.8424207039993,
               321
           ],
           [
               -5275,
               1854.0900733243786,
               38
           ],
           [
               -5315,
               1884.6352432234733,
               14
           ],
           [
               -5355,
               1898.4862390862884,
               191
           ],
           [
               -5395,
               1884.6352432234733,
               33
           ],
           [
               -5435,
               1915.1631784263188,
               40
           ],
           [
               -5475,
               1912.5506529239951,
               7
           ],
           [
               -5515,
               1893.6868801362066,
               662
           ],
           [
               -5555,
               1881.076819271345,
               128
           ]
       ]
   },
   "cuts": {
       "appearance": {
           "length": false,
           "curve": true,
           "all": false
       },
       "fiducial": {
           "transverse_inner": true,
           "transverse_outer": true,
           "all": true,
           "longitudinal_downstream": true,
           "longitudinal_upstream": true
       }
   },
   "analyzable": true,
   "type": "track",
   "event": 5
}]"""

class TestROOTDigitizedHits(TestCase):
    def setUp(self):
        self.testdata = json.loads(testjson)

    def test_digit(self):
        self.thisclass = CreateROOTDigitizedHits()

        self.thisclass.process(self.testdata)
        self.thisclass.shutdown()
        raise ValueError()
